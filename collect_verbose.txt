============================= test session starts ==============================
platform darwin -- Python 3.11.13, pytest-8.4.1, pluggy-1.6.0 -- /Users/jeffrichley/workspace/ai/dream/vine/.venv/bin/python3
cachedir: .pytest_cache
Using --randomly-seed=2741308949
metadata: {'Python': '3.11.13', 'Platform': 'macOS-14.6.1-x86_64-i386-64bit', 'Packages': {'pytest': '8.4.1', 'pluggy': '1.6.0'}, 'Plugins': {'randomly': '3.16.0', 'repeat': '0.9.4', 'html': '4.1.1', 'asyncio': '1.1.0', 'xdist': '3.8.0', 'timeout': '2.4.0', 'metadata': '3.1.1', 'cov': '6.2.1', 'mock': '3.14.1', 'hypothesis': '6.136.6'}}
hypothesis profile 'default'
rootdir: /Users/jeffrichley/workspace/ai/dream/vine
configfile: pytest.ini
testpaths: tests
plugins: randomly-3.16.0, repeat-0.9.4, html-4.1.1, asyncio-1.1.0, xdist-3.8.0, timeout-2.4.0, metadata-3.1.1, cov-6.2.1, mock-3.14.1, hypothesis-6.136.6
asyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 433 items

<Dir vine>
  <Package tests>
    <Module test_basic.py>
      Basic tests for the vine package.
      <Class TestDefaultsManager>
        Test the DefaultsManager class.
        <Function test_init_with_defaults_data>
          Test initialization with DefaultsData.
        <Function test_get_missing>
          Test getting a missing default.
        <Function test_clear>
          Test clearing all defaults.
        <Function test_update_with_defaults_data>
          Test updating defaults with DefaultsData.
        <Function test_audio_defaults>
          Test audio default methods.
        <Function test_get_existing>
          Test getting an existing default.
        <Function test_init_empty>
          Test initialization with no defaults.
        <Function test_update>
          Test updating defaults.
        <Function test_set>
          Test setting a default.
        <Function test_init_with_defaults>
          Test initialization with defaults.
        <Function test_all_property>
          Test the all property returns a copy.
      <Function test_defaults_manager_import>
        Test that DefaultsManager can be imported.
      <Function test_basic_math>
        A simple test to verify pytest is working.
      <Coroutine test_async_test>
        Test that async tests work.
    <Package unit>
      <Module test_video_spec_coverage.py>
        Unit tests for VideoSpec coverage scenarios.
        <Class TestVideoSpecCoverage>
          Test VideoSpec coverage scenarios.
          <Function test_get_active_clips_at_time_with_tracks_but_no_active_clips>
            Test get_active_clips_at_time with tracks but no active clips.
          <Function test_get_active_clips_at_time_with_empty_tracks>
            Test get_active_clips_at_time with empty tracks.
          <Function test_get_active_clips_at_time_with_active_clips>
            Test get_active_clips_at_time with active clips.
      <Module test_rendering.py>
        Tests for the MoviePy rendering integration.
        <Class TestMoviePyAdapter>
          Test the MoviePyAdapter functionality.
          <Function test_adapt_image_clip_returns_moviepy_clip>
            Test that adapt_image_clip returns a MoviePy clip.
          <Function test_adapt_video_track_returns_list_of_clips>
            Test that adapt_video_track returns a list of MoviePy clips.
        <Class TestClipFactory>
          Test the ClipFactory functionality.
          <Function test_create_text_clip_returns_moviepy_clip>
            Test that create_text_clip returns a MoviePy clip with correct properties.
          <Function test_create_image_clip_returns_moviepy_clip>
            Test that create_image_clip returns a MoviePy clip.
          <Function test_create_audio_clip_returns_moviepy_clip>
            Test that create_audio_clip returns a MoviePy clip with correct properties.
        <Class TestTimelineBuilderIntegration>
          Test the TimelineBuilder integration with rendering.
          <Function test_export_method_creates_output_file>
            Test that the TimelineBuilder export method creates an output file.
          <Function test_render_method_returns_video_clip>
            Test that the TimelineBuilder render method returns a video clip.
        <Class TestVideoRenderer>
          Test the VideoRenderer functionality.
          <Function test_finalize_with_default_background_color_completes_successfully>
            Test that finalize with default background color completes without error.
          <Function test_create_clips_returns_list_of_clips>
            Test that create_clips returns a list of MoviePy clips.
          <Function test_compose_clips_with_different_sizes>
            Test compose_clips works with different video spec sizes.
          <Function test_finalize_with_custom_background_color_raises_error>
            Test that finalize with custom background color raises NotImplementedError.
          <Function test_compose_clips_empty_list_returns_color_clip>
            Test that empty clips list returns a color clip.
          <Function test_compose_clips_with_clips_returns_composite>
            Test that compose_clips with clips returns a composite video.
      <Module test_animation_config.py>
        Unit tests for AnimationConfig model.
        <Class TestAnimationConfig>
          Test AnimationConfig model.
          <Function test_validate_easing_success>
            Test validate_easing method returns valid easing values unchanged.
          <Function test_animation_without_duration>
            Test animation without duration.
          <Function test_create_ken_burns_animation>
            Test creating a Ken Burns animation.
          <Function test_animation_validation>
            Test animation validation.
          <Function test_animation_methods>
            Test AnimationConfig methods.
          <Function test_animation_overlap_without_duration>
            Test animation overlap when one or both animations have no duration.
      <Module test_effects.py>
        Tests for effect models.
        <Class TestBaseEffectGetters>
          Test BaseEffect getter methods.
          <Function test_get_start_time_method>
            Test get_start_time() method returns the correct start time.
          <Function test_get_type_method>
            Test get_type() method returns the correct type.
          <Function test_get_duration_method>
            Test get_duration() method returns the correct duration.
        <Class TestEffectConfigs>
          Test effect configurations.
          <Function test_slide_config>
            Test slide effect configuration.
          <Function test_static_config>
            Test static effect configuration.
          <Function test_ken_burns_config>
            Test Ken Burns effect configuration.
        <Class TestEffectTimeValidation>
          Test effect time validation.
          <Function test_effect_time_validation>
            Test effect time validation with valid values.
          <Function test_effect_time_validation_zero_values>
            Test effect time validation with zero values.
          <Function test_effect_time_validation_none_values>
            Test effect time validation with None values.
        <Class TestEffectValidation>
          Test effect validation rules.
          <Function test_slide_direction_validation>
            Test slide direction validation.
          <Function test_ken_burns_zoom_factor_validation>
            Test Ken Burns zoom factor validation.
          <Function test_ken_burns_pan_validation>
            Test Ken Burns pan validation.
          <Function test_slide_distance_validation>
            Test slide distance validation.
      <Module test_timeline_builder_advanced.py>
        Advanced tests for TimelineBuilder functionality.
        This module tests advanced TimelineBuilder features including track management,
        transitions, clip properties, and advanced timing scenarios.
        <Class TestTimelineBuilderAdvanced>
          Advanced tests for TimelineBuilder functionality.
          <Function test_transition_explicit_mode>
            Test transition with explicit timing.
          <Function test_transition_sequential_mode_timing>
            Test transition timing in sequential mode.
          <Function test_get_clip_count_with_multiple_tracks>
            Test get_clip_count with multiple tracks.
          <Function test_transition_with_kwargs>
            Test transition with additional parameters.
          <Function test_auto_track_creation_text_tracks>
            Test automatic track creation for text tracks.
          <Function test_sequential_mode_track_specific_timing>
            Test that sequential mode maintains separate timing for each track type.
          <Function test_get_duration_with_transitions>
            Test get_duration including transitions.
          <Function test_auto_track_creation_voice_tracks>
            Test automatic track creation for voice tracks.
          <Function test_get_track_count_with_multiple_tracks>
            Test get_track_count with multiple tracks.
          <Function test_clear_resets_everything>
            Test that clear resets all tracks and timing.
          <Function test_get_duration_with_mixed_clips>
            Test get_duration with clips that have and don't have durations.
          <Function test_get_duration_with_clips_no_duration>
            Test get_duration when clips have no duration specified.
          <Function test_set_fps>
            Test setting FPS.
          <Function test_get_duration_with_no_clips>
            Test get_duration when no clips are present.
          <Function test_clip_properties_passed_through>
            Test that clip properties are passed through correctly.
          <Function test_pathlib_path_support>
            Test that Path objects are supported for file paths.
          <Function test_auto_track_creation_with_overlaps>
            Test automatic track creation when tracks have overlapping clips.
      <Module test_clip_params.py>
        Unit tests for clip parameter models.
        <Class TestExportParams>
          Test ExportParams model.
          <Function test_create_with_custom_values>
            Test creating ExportParams with custom values.
          <Function test_create_with_defaults>
            Test creating ExportParams with default values.
        <Class TestTransitionParams>
          Test TransitionParams model.
          <Function test_create_empty>
            Test creating TransitionParams (empty class).
        <Class TestTextClipParams>
          Test TextClipParams model.
          <Function test_create_with_defaults>
            Test creating TextClipParams with default values.
          <Function test_validation_opacity_range>
            Test opacity validation requires 0.0 <= opacity <= 1.0.
          <Function test_validation_font_size_ge_one>
            Test font_size validation requires >= 1.
          <Function test_create_with_custom_values>
            Test creating TextClipParams with custom values.
        <Class TestVideoClipParams>
          Test VideoClipParams model.
          <Function test_validation_width_ge_one>
            Test width validation requires >= 1.
          <Function test_validation_height_ge_one>
            Test height validation requires >= 1.
          <Function test_create_with_defaults>
            Test creating VideoClipParams with default values.
          <Function test_validation_opacity_range>
            Test opacity validation requires 0.0 <= opacity <= 1.0.
          <Function test_create_with_custom_values>
            Test creating VideoClipParams with custom values.
        <Class TestAudioClipParams>
          Test AudioClipParams model.
          <Function test_validation_crossfade_duration_ge_zero>
            Test crossfade_duration validation requires >= 0.0.
          <Function test_validation_fade_in_ge_zero>
            Test fade_in validation requires >= 0.0.
          <Function test_validation_fade_out_ge_zero>
            Test fade_out validation requires >= 0.0.
          <Function test_create_with_custom_values>
            Test creating AudioClipParams with custom values.
          <Function test_validation_volume_range>
            Test volume validation requires 0.0 <= volume <= 2.0.
          <Function test_create_with_defaults>
            Test creating AudioClipParams with default values.
        <Class TestImageClipParams>
          Test ImageClipParams model.
          <Function test_validation_opacity_range>
            Test opacity validation requires 0.0 <= opacity <= 1.0.
          <Function test_validation_width_ge_one>
            Test width validation requires >= 1.
          <Function test_create_with_defaults>
            Test creating ImageClipParams with default values.
          <Function test_create_with_custom_values>
            Test creating ImageClipParams with custom values.
          <Function test_validation_height_ge_one>
            Test height validation requires >= 1.
        <Class TestVideoExportOptions>
          Test VideoExportOptions model.
          <Function test_validation_threads_range>
            Test threads validation requires 1 <= threads <= 32.
          <Function test_validate_bitrate_format_valid_M>
            Test bitrate validation accepts valid 'M' format.
          <Function test_create_with_defaults>
            Test creating VideoExportOptions with default values.
          <Function test_validate_bitrate_format_valid_k>
            Test bitrate validation accepts valid 'k' format.
          <Function test_create_with_custom_values>
            Test creating VideoExportOptions with custom values.
          <Function test_validate_bitrate_format_none>
            Test bitrate validation accepts None.
          <Function test_validate_bitrate_format_invalid>
            Test bitrate validation rejects invalid format.
          <Function test_validation_fps_range>
            Test fps validation requires 1.0 <= fps <= 120.0.
        <Class TestExportResult>
          Test ExportResult dataclass.
          <Function test_create_with_required_fields>
            Test creating ExportResult with required fields only.
          <Function test_create_with_all_fields>
            Test creating ExportResult with all fields.
          <Function test_dataclass_immutability>
            Test that ExportResult fields can be accessed but not modified.
      <Module test_video_spec_tracks.py>
        Unit tests for track-based VideoSpec model.
        <Class TestVideoSpecTracks>
          Test track-based VideoSpec model.
          <Function test_video_spec_time_queries>
            Test VideoSpec time queries.
          <Function test_create_basic_video_spec>
            Test creating a basic video specification.
          <Function test_video_spec_track_management>
            Test VideoSpec track management.
          <Function test_get_track_by_name_edge_cases>
            Test get_track_by_name method edge cases that return None.
          <Function test_video_spec_dimension_limits>
            Test video specification dimension limits.
          <Function test_video_spec_transitions>
            Test VideoSpec transitions.
          <Function test_background_color_validation>
            Test background color validation.
          <Function test_video_spec_methods>
            Test VideoSpec methods.
          <Function test_get_total_duration_with_transitions>
            Test get_total_duration method specifically with transitions to exercise lines 101-102.
          <Function test_video_spec_z_order_sorting>
            Test VideoSpec z_order sorting.
          <Function test_video_spec_with_voice_and_music_config>
            Test VideoSpec with voice and music configuration.
          <Function test_video_spec_validation>
            Test video specification validation.
          <Function test_remove_track_edge_cases>
            Test remove_track method edge cases that return False.
          <Function test_video_spec_transition_management>
            Test VideoSpec transition management.
      <Module test_timeline_builder_integration.py>
        Integration tests for TimelineBuilder functionality.
        This module tests TimelineBuilder integration features including video spec building,
        method chaining, duration management, and complex scenarios.
        <Class TestTimelineBuilderIntegration>
          Integration tests for TimelineBuilder functionality.
          <Function test_explicit_timing_without_duration_or_end_time>
            Test explicit timing without duration or end_time.
          <Function test_current_time_updates_with_explicit_timing>
            Test current time updates when using explicit timing.
          <Function test_validation_errors_duration_and_end_time>
            Test validation errors when both duration and end_time are specified.
          <Function test_current_time_updates_without_duration>
            Test current time updates when clips have no duration.
          <Function test_track_auto_detection_edge_cases>
            Test track auto-detection in edge cases.
          <Function test_set_duration_batch_operations>
            Test batch duration operations.
          <Function test_explicit_timing_with_end_time>
            Test explicit timing with end_time parameter.
          <Function test_clear_duration_functionality>
            Test clearing duration for clips.
          <Function test_method_chaining>
            Test that all methods support method chaining.
          <Function test_metadata_preservation>
            Test that metadata is preserved through the build process.
          <Function test_build_video_spec_complete>
            Test building complete VideoSpec.
          <Function test_build_video_spec_empty>
            Test building VideoSpec with no content.
          <Function test_set_duration_functionality>
            Test setting duration for clips without duration.
          <Function test_sequential_mode_without_duration>
            Test sequential mode behavior when clips have no duration.
      <Module test_timeline_builder_tracks.py>
        Unit tests for track-based TimelineBuilder.
        <Class TestTimelineBuilderTracks>
          Test TimelineBuilder with track-based architecture.
          <Function test_add_voice_at_explicit>
            Test adding voice with explicit timing.
          <Function test_validation_errors>
            Test validation error handling.
          <Function test_add_text_sequential>
            Test adding text in sequential mode.
          <Function test_get_track_count>
            Test getting track counts.
          <Function test_add_image_sequential>
            Test adding image in sequential mode.
          <Function test_initialization_with_custom_parameters>
            Test TimelineBuilder initialization with custom parameters.
          <Function test_professional_audio_controls>
            Test professional audio control features.
          <Function test_add_image_at_explicit>
            Test adding image with explicit timing.
          <Function test_timeline_builder_initialization>
            Test TimelineBuilder initialization with tracks.
          <Function test_transition_at_explicit>
            Test adding transition with explicit timing.
          <Function test_overlapping_clips_same_track>
            Test handling of overlapping clips on the same track.
          <Function test_clear>
            Test clearing all content from TimelineBuilder.
          <Function test_dual_mode_timing_combination>
            Test combining sequential and explicit timing modes.
          <Function test_get_duration>
            Test getting total duration of timeline.
          <Function test_add_text_at_explicit>
            Test adding text with explicit timing.
          <Function test_build_video_spec>
            Test building VideoSpec from TimelineBuilder.
          <Function test_get_clip_count>
            Test getting clip counts.
          <Function test_add_voice_sequential>
            Test adding voice in sequential mode.
          <Function test_transition_sequential>
            Test adding transition in sequential mode.
          <Function test_auto_track_creation>
            Test automatic track creation when needed.
      <Module test_tracks.py>
        Unit tests for track-based data models.
        <Class TestVideoTrack>
          Test VideoTrack model.
          <Function test_video_track_creation>
            Test basic video track creation.
          <Function test_video_track_add_clip>
            Test adding clips to video track.
          <Function test_video_track_return_true_infinite_duration_edge_cases>
            Test edge cases for the 'return True  # Infinite duration clips overlap with everything' line.
          <Function test_video_track_return_true_infinite_duration_specific>
            Test the specific 'return True  # Infinite duration clips overlap with everything' line.
          <Function test_video_track_get_active_clips>
            Test getting active clips at a specific time.
          <Function test_video_track_has_overlapping_clips>
            Test detection of overlapping clips.
        <Class TestAudioClip>
          Test AudioClip model.
          <Function test_audio_clip_validate_end_time_before_start_time>
            Test validate_end_time error when end_time is before or equal to start_time.
          <Function test_audio_clip_settings>
            Test audio clip with audio settings.
          <Function test_audio_clip_is_active_at_time_edge_cases>
            Test is_active_at_time edge cases.
          <Function test_audio_clip_creation>
            Test basic audio clip creation.
          <Function test_audio_clip_validate_end_time_with_duration_conflict>
            Test validate_end_time error when both duration and end_time are specified.
          <Function test_audio_clip_return_time_gte_start_time_specific>
            Test the specific 'return time >= self.start_time' line in is_active_at_time.
          <Function test_audio_clip_validate_end_time_after_start_time>
            Test validate_end_time when end_time is after start_time.
        <Class TestTextClip>
          Test TextClip model.
          <Function test_text_clip_creation>
            Test basic text clip creation.
          <Function test_text_clip_validate_end_time_with_duration_conflict>
            Test validate_end_time error when both duration and end_time are specified.
          <Function test_text_clip_validate_end_time_after_start_time>
            Test validate_end_time when end_time is after start_time.
          <Function test_text_clip_is_active_at_time_edge_cases>
            Test is_active_at_time edge cases.
          <Function test_text_clip_styling>
            Test text clip with styling options.
          <Function test_text_clip_validate_end_time_before_start_time>
            Test validate_end_time error when end_time is before or equal to start_time.
          <Function test_text_clip_return_time_gte_start_time_specific>
            Test the specific 'return time >= self.start_time' line in is_active_at_time.
        <Class TestAudioTrack>
          Test AudioTrack model.
          <Function test_audio_track_creation>
            Test basic audio track creation.
          <Function test_audio_track_add_clip>
            Test adding clips to audio track.
          <Function test_audio_track_return_true_infinite_duration_specific>
            Test the specific 'return True  # Infinite duration clips overlap with everything' line.
        <Class TestBaseTrack>
          Test BaseTrack model.
          <Function test_base_track_remove_clip_not_exists>
            Test removing a clip that doesn't exist in the track.
          <Function test_base_track_remove_clip_at_index_invalid_negative>
            Test removing a clip at a negative index.
          <Function test_base_track_remove_clip_exists>
            Test removing a clip that exists in the track.
          <Function test_base_track_has_overlapping_clips_non_overlapping>
            Test overlapping clips detection with non-overlapping clips.
          <Function test_base_track_get_active_clips_at_time>
            Test getting active clips at a specific time.
          <Function test_base_track_remove_clip_at_index_invalid_out_of_bounds>
            Test removing a clip at an index out of bounds.
          <Function test_base_track_has_overlapping_clips_infinite_duration>
            Test overlapping clips detection with infinite duration clip.
          <Function test_base_track_creation>
            Test basic base track creation.
          <Function test_base_track_has_overlapping_clips_empty>
            Test overlapping clips detection with empty track.
          <Function test_base_track_remove_clip_at_index_valid>
            Test removing a clip at a valid index.
          <Function test_base_track_has_overlapping_clips_overlapping>
            Test overlapping clips detection with overlapping clips.
          <Function test_base_track_add_clip>
            Test adding clips to base track.
          <Function test_base_track_has_overlapping_clips_single>
            Test overlapping clips detection with single clip.
        <Class TestImageClip>
          Test ImageClip model.
          <Function test_image_clip_return_time_gte_start_time_specific>
            Test the specific 'return time >= self.start_time' line in is_active_at_time.
          <Function test_image_clip_display_settings>
            Test image clip with display settings.
          <Function test_image_clip_validate_end_time_before_start_time>
            Test validate_end_time error when end_time is before or equal to start_time.
          <Function test_image_clip_validate_end_time_with_duration_conflict>
            Test validate_end_time error when both duration and end_time are specified.
          <Function test_image_clip_creation>
            Test basic image clip creation.
          <Function test_image_clip_is_active_at_time_edge_cases>
            Test is_active_at_time edge cases.
          <Function test_image_clip_validate_end_time_after_start_time>
            Test validate_end_time when end_time is after start_time.
        <Class TestTextTrack>
          Test TextTrack model.
          <Function test_text_track_add_clip>
            Test adding clips to text track.
          <Function test_text_track_creation>
            Test basic text track creation.
          <Function test_text_track_return_true_infinite_duration_specific>
            Test the specific 'return True  # Infinite duration clips overlap with everything' line.
        <Class TestVideoClip>
          Test VideoClip model.
          <Function test_video_clip_validate_end_time_with_duration_conflict>
            Test validate_end_time error when both duration and end_time are specified.
          <Function test_video_clip_is_active_at_time_with_end_time_only>
            Test is_active_at_time with end_time instead of duration.
          <Function test_video_clip_return_time_gte_start_time_edge_cases>
            Test edge cases for the 'return time >= self.start_time' line.
          <Function test_video_clip_return_time_gte_start_time_specific>
            Test the specific 'return time >= self.start_time' line in is_active_at_time.
          <Function test_video_clip_validation_error>
            Test validation error when both duration and end_time are specified.
          <Function test_video_clip_creation>
            Test basic video clip creation.
          <Function test_video_clip_validate_end_time_before_start_time>
            Test validate_end_time error when end_time is before or equal to start_time.
          <Function test_video_clip_is_active_at_time_with_no_end>
            Test is_active_at_time when clip has no end time (infinite duration).
          <Function test_video_clip_is_active_at_time>
            Test is_active_at_time method.
          <Function test_video_clip_with_end_time>
            Test video clip with end_time instead of duration.
          <Function test_video_clip_validate_end_time_after_start_time>
            Test validate_end_time when end_time is after start_time.
      <Module test_property_based.py>
        Property-based tests for Vine framework.
        These tests verify critical invariants and properties that should always hold
        across all possible inputs, complementing our existing unit tests.
        <Class TestPropertyBasedTimelineBuilder>
          Property-based tests for TimelineBuilder.
          <Function test_fps_always_positive>
            Test that FPS is always positive.
          <Function test_video_spec_dimensions>
            Test video spec dimension validation.
          <Function test_track_creation_consistent>
            Test that track creation is consistent.
          <Function test_clip_timing_validation_invalid_duration>
            Test clip timing validation with invalid duration.
          <Function test_duration_always_non_negative>
            Test that duration is always non-negative.
          <Function test_timeline_dimensions_always_positive>
            Test that timeline dimensions are always positive.
          <Function test_clip_timing_validation_invalid_start_time>
            Test clip timing validation with invalid start time.
          <Function test_video_spec_track_consistency>
            Test video spec track consistency.
          <Function test_clip_duration_consistency>
            Test that clip durations are consistent.
          <Function test_large_timeline_performance>
            Test performance with large timelines.
          <Function test_transition_type_validation>
            Test transition type validation.
          <Function test_memory_usage_properties>
            Test memory usage properties.
          <Function test_audio_config_volume_validation>
            Test audio config volume validation.
          <Function test_track_name_validation>
            Test track name validation.
          <Function test_sequential_timing_properties>
            Test sequential timing properties.
          <Function test_clip_timing_validation_valid>
            Test clip timing validation with valid values.
          <Function test_transition_duration_validation>
            Test transition duration validation.
          <Function test_explicit_timing_properties>
            Test explicit timing properties.
          <Function test_z_order_uniqueness>
            Test that z-order values are unique within tracks.
          <Function test_adding_clips_increases_count>
            Test that adding clips increases the clip count.
          <Function test_audio_track_properties>
            Test audio track properties.
      <Module test_timeline_builder_coverage.py>
        <Function test_utility_methods>
          Test get_duration, get_track_count, get_clip_count, clear, set_fps, set_duration, clear_duration.
        <Function test_add_voice_at_invalid_audio_raises>
          Test add_voice_at raises ValueError for invalid audio file.
        <Function test_validate_audio_file_accepts_common_extensions>
          Test _validate_audio_file returns True for common audio extensions.
        <Function test_add_music_at_both_duration_and_end_time>
          Test add_music_at raises ValueError if both duration and end_time are given.
        <Function test_export_branches_audio_none_and_options>
          Test export with audio_clip None and with export options.
        <Function test_explicit_audio_methods_invalid_audio_with_end_time>
          Test add_voice_at/add_music_at/add_sfx_at raise ValueError for invalid audio with end_time.
        <Function test_sequential_methods_update_current_time>
          Test that sequential methods update current time as expected.
        <Function test_add_sfx_at_both_duration_and_end_time>
          Test add_sfx_at raises ValueError if both duration and end_time are given.
        <Function test_sequential_methods_use_default_duration>
          Test sequential methods use default duration if duration is None.
        <Function test_music_voice_sfx_text_track_auto_detection>
          Test auto-detection for music, voice, sfx, and text tracks creates new tracks.
        <Function test_add_music_at_invalid_audio_raises>
          Test add_music_at raises ValueError for invalid audio file.
        <Function test_sequential_music_and_sfx_with_default_duration>
          Test add_music and add_sfx with default duration (start_time increments).
        <Function test_explicit_methods_create_clips_and_chain>
          Test explicit methods create clips and return context objects.
        <Function test_render_and_export_success_and_failure>
          Test render and export methods, including error path in export.
        <Function test_video_track_auto_detection_creates_new_track>
          Test _get_or_create_video_track creates a new track if all have overlaps.
        <Function test_validate_audio_file_fallback_and_exception>
          Test _validate_audio_file returns False if AudioFileClip fails.
        <Function test_add_image_at_both_duration_and_end_time>
          Test add_image_at raises ValueError if both duration and end_time are given.
        <Function test_transition_methods>
          Test add_transition and add_transition_at methods.
        <Function test_sequential_music_and_sfx_without_default_duration>
          Test add_music and add_sfx without default duration (start_time increments).
        <Function test_validate_audio_file_fallback_success>
          Test _validate_audio_file with valid audio extension.
        <Function test_add_text_at_both_duration_and_end_time>
          Test add_text_at raises ValueError if both duration and end_time are given.
        <Function test_add_sfx_at_invalid_audio_raises>
          Test add_sfx_at raises ValueError for invalid audio file.
        <Function test_get_or_create_video_track_returns_existing_when_no_overlap>
          Test _get_or_create_video_track returns the existing track if no overlap.
        <Function test_add_voice_at_both_duration_and_end_time>
          Test add_voice_at raises ValueError if both duration and end_time are given.
        <Function test_explicit_methods_with_end_time>
          Test explicit methods with end_time instead of duration.
      <Module test_transitions.py>
        Unit tests for transition configurations.
        <Class TestTransitionConfigs>
          Test all transition configurations.
          <Function test_crossfade_config>
            Test crossfade configuration.
          <Function test_transition_duration_validation>
            Test transition duration validation.
          <Function test_slide_transition_config>
            Test slide transition configuration.
          <Function test_fade_config>
            Test fade configuration.
        <Class TestBaseTransitionGetters>
          Test the getter methods in BaseTransition class.
          <Function test_get_duration_method>
            Test get_duration() method returns the correct duration.
          <Function test_getter_methods_inheritance>
            Test that getter methods work correctly with inheritance.
          <Function test_get_easing_method>
            Test get_easing() method returns the correct easing.
          <Function test_getter_methods_with_custom_values>
            Test all getter methods with custom values.
          <Function test_get_type_method>
            Test get_type() method returns the correct type.
        <Class TestTransitionProgress>
          Test the Transition model's get_progress_at_time method.
          <Function test_basic_progress_calculation>
            Test basic progress calculation during transition.
          <Function test_negative_time_handling>
            Test handling of negative time values.
          <Function test_multiple_transitions_same_time>
            Test multiple transitions with different configurations.
          <Function test_long_duration_transition>
            Test transition with long duration.
          <Function test_zero_duration_transition>
            Test transition with zero duration.
          <Function test_transition_at_zero_time>
            Test transition starting at time zero.
          <Function test_instantaneous_transition>
            Test transition with very small duration.
          <Function test_all_transition_types>
            Test progress calculation for all transition types.
          <Function test_transition_with_metadata>
            Test that metadata doesn't affect progress calculation.
          <Function test_transition_with_track_targeting>
            Test that track targeting doesn't affect progress calculation.
          <Function test_floating_point_precision>
            Test floating point precision in progress calculation.
          <Function test_edge_case_timing>
            Test edge cases around transition timing.
    <Package vine>
      <Dir models>
        <Module test_contexts.py>
          Tests for vine.models.contexts module.
          <Class TestValidationFunction>
            Test the validate_builder_implementation function.
            <Function test_validation_passes_when_all_methods_implemented>
              Test that validation passes when all protocol methods are implemented.
            <Function test_validation_fails_when_timeline_builder_methods_missing>
              Test that validation fails when TimelineBuilder is missing required methods.
            <Function test_validation_fails_when_builder_methods_mixin_missing>
              Test that validation fails when BuilderMethodsMixin is missing required methods.
          <Class TestMethodChaining>
            Test method chaining behavior across all context classes.
            <Function test_sfx_context_method_chaining>
              Test that SfxContext methods support chaining.
            <Function test_image_context_method_chaining>
              Test that ImageContext methods support chaining.
            <Function test_voice_context_method_chaining>
              Test that VoiceContext methods support chaining.
            <Function test_text_context_method_chaining>
              Test that TextContext methods support chaining.
          <Class TestTextContext>
            Test TextContext class.
            <Function test_init_sets_builder_and_clip>
              Test that __init__ sets builder and clip correctly.
            <Function test_with_text_styling_uses_defaults>
              Test that with_text_styling uses default values when not specified.
            <Function test_with_alignment_sets_alignment>
              Test that with_alignment sets text alignment correctly.
            <Function test_with_text_styling_sets_font_properties>
              Test that with_text_styling sets font properties correctly.
            <Function test_with_alignment_uses_default>
              Test that with_alignment uses default value when not specified.
          <Class TestVoiceContext>
            Test VoiceContext class.
            <Function test_init_sets_builder_and_clip>
              Test that __init__ sets builder and clip correctly.
            <Function test_with_audio_config_uses_defaults>
              Test that with_audio_config uses default values when not specified.
            <Function test_with_audio_config_sets_all_audio_properties>
              Test that with_audio_config sets all audio properties correctly.
          <Class TestSfxContext>
            Test SfxContext class.
            <Function test_with_audio_config_sets_all_audio_properties>
              Test that with_audio_config sets all audio properties correctly.
            <Function test_init_sets_builder_and_clip>
              Test that __init__ sets builder and clip correctly.
            <Function test_with_audio_config_uses_defaults>
              Test that with_audio_config uses default values when not specified.
          <Class TestBuilderMethodsMixin>
            Test BuilderMethodsMixin through concrete context classes.
            <Function test_add_text_at_delegates_to_builder>
              Test that add_text_at delegates to the builder.
            <Function test_add_text_delegates_to_builder>
              Test that add_text delegates to the builder.
            <Function test_add_image_delegates_to_builder>
              Test that add_image delegates to the builder.
            <Function test_add_music_delegates_to_builder>
              Test that add_music delegates to the builder.
            <Function test_add_image_at_delegates_to_builder>
              Test that add_image_at delegates to the builder.
            <Function test_add_sfx_delegates_to_builder>
              Test that add_sfx delegates to the builder.
            <Function test_add_sfx_at_delegates_to_builder>
              Test that add_sfx_at delegates to the builder.
            <Function test_add_music_at_delegates_to_builder>
              Test that add_music_at delegates to the builder.
            <Function test_add_voice_at_delegates_to_builder>
              Test that add_voice_at delegates to the builder.
            <Function test_add_voice_delegates_to_builder>
              Test that add_voice delegates to the builder.
          <Class TestAudioStylingMixin>
            Test AudioStylingMixin through concrete context classes.
            <Function test_with_volume_uses_default>
              Test that with_volume uses default value when not specified.
            <Function test_with_crossfade_uses_defaults>
              Test that with_crossfade uses default values when not specified.
            <Function test_with_fade_sets_fade_durations>
              Test that with_fade sets fade_in and fade_out durations.
            <Function test_with_crossfade_sets_crossfade_settings>
              Test that with_crossfade sets crossfade duration and auto flag.
            <Function test_with_volume_sets_volume>
              Test that with_volume sets volume correctly.
            <Function test_with_fade_uses_defaults>
              Test that with_fade uses default values when not specified.
          <Class TestVisualStylingMixin>
            Test VisualStylingMixin through concrete context classes.
            <Function test_with_opacity_uses_default>
              Test that with_opacity uses default value when not specified.
            <Function test_with_effect_raises_on_unsupported_clip>
              Test that with_effect raises ValueError for unsupported clip types.
            <Function test_with_opacity_sets_opacity>
              Test that with_opacity sets opacity correctly.
            <Function test_with_position_uses_defaults>
              Test that with_position uses default values when not specified.
            <Function test_with_position_sets_coordinates>
              Test that with_position sets x and y coordinates correctly.
            <Function test_with_effect_adds_animation_to_supported_clip>
              Test that with_effect adds animation to clips that support it.
            <Function test_with_transitions_handles_none_values>
              Test that with_transitions handles None values correctly.
            <Function test_with_transitions_sets_both_transitions>
              Test that with_transitions sets both transition_in and transition_out.
          <Class TestImageContext>
            Test ImageContext class.
            <Function test_with_styling_sets_width_and_height>
              Test that with_styling sets width and height correctly.
            <Function test_with_styling_sets_only_width>
              Test that with_styling sets only width when height is None.
            <Function test_init_sets_builder_and_clip>
              Test that __init__ sets builder and clip correctly.
            <Function test_with_styling_handles_none_values>
              Test that with_styling handles None values correctly.
            <Function test_with_styling_sets_only_height>
              Test that with_styling sets only height when width is None.
    <Package unit>
      <Module test_timeline_builder_edge_cases.py>
        Edge case and error scenario tests for TimelineBuilder.
        <Class TestTimelineBuilderEdgeCases>
          Test edge cases and error scenarios for TimelineBuilder.
          <Function test_floating_point_precision>
            Test handling of floating point precision.
          <Function test_track_creation_under_high_load>
            Test track creation behavior under high load.
          <Function test_negative_duration_validation>
            Test that negative durations are rejected by the models.
          <Function test_unicode_content>
            Test handling of unicode content in text clips.
          <Function test_end_time_equal_to_start_time_validation>
            Test that end_time equal to start_time is allowed (creates zero-duration clip).
          <Function test_invalid_property_values>
            Test that invalid property values are rejected.
          <Function test_mixed_path_types>
            Test mixing string and Path objects for file paths.
          <Function test_negative_start_time_validation>
            Test that negative start times are rejected by the models.
          <Function test_method_chaining_with_clear>
            Test method chaining with clear operation.
          <Function test_special_characters_in_paths>
            Test handling of special characters in file paths.
          <Function test_extreme_clip_properties>
            Test extreme values for clip properties.
          <Function test_very_large_numbers>
            Test handling of very large numbers.
          <Function test_get_duration_with_infinite_clips>
            Test get_duration when clips have no end time (infinite duration).
          <Function test_transition_validation>
            Test transition validation.
          <Function test_clear_preserves_custom_parameters>
            Test that clear preserves custom initialization parameters.
          <Function test_end_time_before_start_time_validation>
            Test that end_time before start_time is rejected.
          <Function test_build_with_empty_builder>
            Test building VideoSpec with completely empty builder.
          <Function test_concurrent_access_simulation>
            Test that the builder can handle rapid successive calls.
          <Function test_whitespace_only_content>
            Test handling of whitespace-only content.
          <Function test_empty_string_content>
            Test handling of empty string content.
          <Function test_get_duration_with_mixed_infinite_and_finite_clips>
            Test get_duration with mix of infinite and finite duration clips.
      <Module test_yaml_utils.py>
        Tests for YAML utilities module.
        <Class TestYAMLUtils>
          Test cases for YAML utility functions.
          <Function test_dump_yaml_to_path>
            Test dumping data to a file path.
          <Function test_dump_yaml_to_string>
            Test dumping data to YAML string.
          <Function test_validate_yaml_schema>
            Test YAML schema validation.
          <Function test_load_yaml_with_list>
            Test loading YAML that contains lists.
          <Function test_load_yaml_from_string>
            Test loading YAML from a string.
          <Function test_load_yaml_from_path>
            Test loading YAML from a file path.
      <Module test_moviepy_adapter_tracks.py>
        <Class TestMoviePyAdapterTracks>
          Test MoviePyAdapter track adaptation functionality.
          <Function test_adapt_text_track_with_text_clips>
            Test adapting a text track with text clips.
          <Function test_adapt_video_track_with_empty_track>
            Test adapting an empty video track.
          <Function test_adapt_audio_track_with_audio_clips>
            Test adapting an audio track with audio clips.
          <Function test_adapt_audio_track_with_empty_track>
            Test adapting an empty audio track.
          <Function test_adapt_text_track_with_empty_track>
            Test adapting an empty text track.
          <Function test_adapt_video_track_with_image_clips>
            Test adapting a video track with image clips.
      <Module test_moviepy_adapter_clips.py>
        <Class TestMoviePyAdapterClips>
          Test MoviePyAdapter clip adaptation functionality.
          <Function test_adapt_audio_clip_with_late_start_time>
            Test adapting an audio clip with a late start time.
          <Function test_adapt_text_clip_with_empty_content>
            Test adapting a text clip with empty content.
          <Function test_adapt_audio_clip_with_minimal_clip>
            Test adapting a minimal audio clip.
          <Function test_adapt_text_clip_with_minimal_clip>
            Test adapting a minimal text clip.
          <Function test_adapt_audio_clip_with_complex_configuration>
            Test adapting an audio clip with complex configuration.
          <Function test_adapt_text_clip_with_negative_positions>
            Test adapting a text clip with negative positions.
          <Function test_adapt_text_clip_factory_raises_exception>
            Test that exceptions from clip factory are propagated.
          <Function test_adapt_text_clip_with_whitespace_content>
            Test adapting a text clip with whitespace-only content.
          <Function test_adapt_image_clip_calls_factory>
            Test that adapt_image_clip calls the clip factory with correct parameters.
          <Function test_adapt_audio_clip_factory_raises_exception>
            Test that exceptions from clip factory are propagated.
          <Function test_adapt_audio_clip_with_empty_volume_curve>
            Test adapting an audio clip with empty volume curve.
          <Function test_adapt_text_clip_with_zero_opacity>
            Test adapting a text clip with zero opacity.
          <Function test_adapt_text_clip_with_no_duration>
            Test adapting a text clip with no duration specified.
          <Function test_adapt_audio_clip_with_pathlib_path>
            Test adapting an audio clip with pathlib.Path.
          <Function test_adapt_audio_clip_with_zero_volume>
            Test adapting an audio clip with zero volume.
          <Function test_adapt_audio_clip_with_max_volume>
            Test adapting an audio clip with maximum volume.
          <Function test_adapt_text_clip_with_special_characters>
            Test adapting a text clip with special characters.
          <Function test_adapt_audio_clip_with_no_duration>
            Test adapting an audio clip with no duration specified.
          <Function test_adapt_text_clip_with_max_opacity>
            Test adapting a text clip with maximum opacity.
          <Function test_adapt_audio_clip_calls_factory>
            Test that adapt_audio_clip calls the clip factory with correct parameters.
          <Function test_adapt_text_clip_with_complex_configuration>
            Test adapting a text clip with complex configuration.
          <Function test_adapt_text_clip_calls_factory>
            Test that adapt_text_clip calls the clip factory with correct parameters.
          <Function test_init_creates_clip_factory>
            Test that MoviePyAdapter creates a ClipFactory on initialization.
          <Function test_adapt_image_clip_with_minimal_clip>
            Test adapting a minimal image clip.
          <Function test_adapt_audio_clip_with_whitespace_path>
            Test adapting an audio clip with whitespace-only path.
      <Module test_base_renderer.py>
        Unit tests for BaseRenderer.
        <Class TestBaseRenderer>
          Test suite for BaseRenderer.
          <Function test_render_with_audio_integration>
            Test full integration of render_with_audio with both video and audio.
          <Function test_finalize_with_none_fps>
            Test finalize sets FPS when clip has fps=None.
          <Function test_finalize_with_false_fps>
            Test finalize sets FPS when clip has fps=False.
          <Function test_finalize_with_existing_fps>
            Test finalize doesn't set FPS when clip already has fps.
          <Function test_render_template_method_structure>
            Test that render produces expected result through template method pattern.
          <Function test_render_with_empty_clips>
            Test render handles empty clips list gracefully.
          <Function test_finalize_with_different_fps_values>
            Test finalize with various FPS values in video spec.
          <Function test_render_with_audio_no_audio>
            Test render_with_audio handles case when no audio is present.
          <Function test_finalize_with_zero_fps>
            Test finalize sets FPS when clip has fps=0.
          <Function test_render_with_audio_calls_adapter>
            Test render_with_audio returns correct tuple when audio is present.
          <Function test_render_with_audio_returns_tuple>
            Test render_with_audio returns correct tuple structure.
          <Function test_render_template_method_order>
            Test that render follows the template method pattern correctly.
          <Function test_finalize_with_empty_string_fps>
            Test finalize sets FPS when clip has fps=''.
          <Function test_init_creates_adapter>
            Test that __init__ creates a MoviePyAdapter.
          <Function test_finalize_with_no_fps_attribute>
            Test finalize sets FPS when clip has no fps attribute at all.
          <Function test_concrete_renderer_implementation>
            Test that the concrete renderer implementation works correctly.
          <Function test_finalize_preserves_original_clip>
            Test that finalize preserves the original clip when FPS is already set.
          <Function test_finalize_with_no_fps>
            Test finalize sets FPS when clip has no fps attribute.
          <Function test_finalize_returns_with_fps_result>
            Test that finalize returns the result of with_fps when FPS needs to be set.
      <Module test_clip_factory.py>
        Unit tests for ClipFactory.
        <Class TestClipFactory>
          Test suite for ClipFactory.
          <Function test_create_audio_clip_with_single_point_volume_curve>
            Test create_audio_clip handles single point volume curve correctly.
          <Function test_create_image_clip_with_pathlib_path>
            Test create_image_clip handles Path objects correctly.
          <Function test_create_image_clip_with_zero_position>
            Test create_image_clip handles zero position correctly.
          <Function test_create_audio_clip_with_pathlib_path>
            Test create_audio_clip handles Path objects correctly.
          <Function test_create_audio_clip_returns_audio_clip>
            Test that create_audio_clip returns an AudioFileClip with correct properties.
          <Function test_create_text_clip_returns_text_clip>
            Test that create_text_clip returns a TextClip with correct properties.
          <Function test_create_text_clip_with_zero_position>
            Test create_text_clip handles zero position correctly.
          <Function test_create_text_clip_with_special_characters>
            Test create_text_clip handles special characters correctly.
          <Function test_create_image_clip_with_partial_dimensions>
            Test create_image_clip handles partial dimensions correctly.
          <Function test_create_audio_clip_with_empty_volume_curve>
            Test create_audio_clip handles empty volume curve correctly.
          <Function test_create_image_clip_with_full_opacity>
            Test create_image_clip handles full opacity correctly.
          <Function test_create_text_clip_with_minimal_config>
            Test create_text_clip works with minimal configuration.
          <Function test_create_audio_clip_with_minimal_config>
            Test create_audio_clip works with minimal configuration.
          <Function test_volume_curve_interpolation_logic>
            Test that volume curve interpolation works correctly.
          <Function test_create_audio_clip_with_effects>
            Test create_audio_clip applies audio effects correctly.
          <Function test_create_text_clip_with_full_opacity>
            Test create_text_clip handles full opacity correctly.
          <Function test_create_audio_clip_with_no_effects>
            Test create_audio_clip works without effects.
          <Function test_create_audio_clip_with_default_volume>
            Test create_audio_clip handles default volume correctly.
          <Function test_create_audio_clip_with_volume_curve>
            Test create_audio_clip applies volume curve correctly.
          <Function test_create_video_clip_raises_not_implemented>
            Test that create_video_clip raises NotImplementedError.
          <Function test_create_image_clip_returns_image_clip>
            Test that create_image_clip returns an ImageClip with correct properties.
          <Function test_create_image_clip_with_minimal_config>
            Test create_image_clip works with minimal configuration.
      <Module test_moviepy_adapter_timeline.py>
        <Class TestMoviePyAdapterTimeline>
          Test MoviePyAdapter timeline adaptation functionality.
          <Function test_adapt_audio_timeline_with_empty_tracks>
            Test adapting an audio timeline with empty audio tracks.
          <Function test_adapt_timeline_skips_invisible_tracks>
            Test that invisible tracks are skipped during timeline adaptation.
          <Function test_adapt_timeline_with_clips>
            Test adapting a timeline with video clips.
          <Function test_adapt_audio_timeline_with_no_audio>
            Test adapting an audio timeline with no audio tracks.
          <Function test_adapt_audio_timeline_skips_muted_tracks>
            Test that muted audio tracks are skipped during audio timeline adaptation.
          <Function test_adapt_timeline_with_no_clips>
            Test adapting a timeline with no clips.
          <Function test_adapt_audio_timeline_with_audio_clips>
            Test adapting an audio timeline with audio clips.
      <Module test_audio_config.py>
        Unit tests for AudioConfig models.
        <Class TestAudioConfig>
          Test AudioConfig models.
          <Function test_audio_validation>
            Test audio configuration validation.
          <Function test_audio_fade_validation>
            Test audio fade validation.
          <Function test_audio_validation_none_values>
            Test audio validation with None values.
          <Function test_create_music_config>
            Test creating a music configuration.
          <Function test_audio_end_time_validation>
            Test audio end time validation.
          <Function test_audio_validation_zero_values>
            Test audio validation with zero values.
          <Function test_audio_validation_empty_strings>
            Test audio validation with empty strings.
          <Function test_create_voice_config>
            Test creating a voice configuration.

================================ tests coverage ================================
______________ coverage: platform darwin, python 3.11.13-final-0 _______________

Name                                        Stmts   Miss  Cover   Missing
-------------------------------------------------------------------------
src/vine/__init__.py                            8      0   100%
src/vine/_version.py                            2      0   100%
src/vine/builder/__init__.py                    2      0   100%
src/vine/builder/timeline_builder.py          256    212    17%   47-65, 74-85, 90-97, 102-109, 114-121, 126-133, 145, 168-175, 192-199, 216-223, 240-247, 264-271, 288-297, 321-335, 355-369, 400-421, 445-466, 490-511, 530-536, 545-546, 550-551, 555-556, 560-572, 576-581, 587-591, 595-621, 625, 635-641, 651, 670-672, 686-720
src/vine/defaults/__init__.py                   2      0   100%
src/vine/defaults/defaults_manager.py          31     14    55%   19-22, 36, 45, 55-59, 63, 72, 85, 97, 105, 113
src/vine/models/__init__.py                     9      0   100%
src/vine/models/animation_config.py            25     12    52%   25-39, 43-45, 49-55
src/vine/models/audio_config.py                23      3    87%   28-34
src/vine/models/base.py                         6      0   100%
src/vine/models/clip_params.py                 67      3    96%   111-113
src/vine/models/contexts.py                   154     76    51%   169, 179, 183, 193, 199, 209, 215, 225, 231, 241, 249-252, 256-258, 263-278, 286-292, 300-302, 306-309, 315-318, 326-327, 333-337, 345-346, 356-360, 364-365, 373-374, 378-387, 395-396, 400-409
src/vine/models/effects.py                     27      3    89%   22, 26, 30
src/vine/models/protocols.py                   13      0   100%
src/vine/models/tracks.py                     121     37    69%   48-54, 58-62, 66-71, 86, 90-91, 95-96, 100, 104-124
src/vine/models/transition.py                  42      8    81%   71, 75, 79-87
src/vine/models/transitions.py                 23      3    87%   22, 26, 30
src/vine/models/video_spec.py                 176    121    31%   87-96, 100-105, 111-115, 119-145, 151-165, 173-175, 183-185, 193-195, 203-205, 213-215, 219, 225-234, 242-246, 250-256, 260, 264, 268, 272-278, 282, 286-290, 294-298, 302-306, 310-314, 318-322, 328-337, 347-350
src/vine/models/yaml_models.py                 36      0   100%
src/vine/rendering/__init__.py                  7      0   100%
src/vine/rendering/audio_renderer.py           49     33    33%   16, 21, 26, 31-37, 56-76, 89-97, 110-115, 126-132
src/vine/rendering/base_renderer.py            26     11    58%   24, 41-49, 78-81, 95-100
src/vine/rendering/clip_factory.py             69     50    28%   34, 39-52, 59-71, 78-96, 101-112, 117-134
src/vine/rendering/moviepy_adapter.py          67     50    25%   40, 51, 62, 73, 84-96, 107-115, 126-134, 145-166, 179-203
src/vine/rendering/text_renderer.py            23     15    35%   25-33, 46-55, 68-76, 87
src/vine/rendering/video_renderer.py           25     18    28%   25-39, 52-61, 74-82
src/vine/utils/__init__.py                      2      0   100%
src/vine/utils/yaml_utils.py                   15      7    53%   27-29, 45, 59-61, 77, 90
src/vine/validation/__init__.py                 0      0   100%
src/vine/validation/protocol_validator.py      14     12    14%   9-48
-------------------------------------------------------------------------
TOTAL                                        1320    688    48%
Coverage XML written to file coverage.xml
FAIL Required test coverage of 80% not reached. Total coverage: 47.88%
========================= 433 tests collected in 1.53s =========================
